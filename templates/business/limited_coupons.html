{% extends 'businessuserbase.html' %}
{% load static %}
{% load staticfiles %}

    {% block extra_head_content %}
    <meta charset="UTF-8">
    <title>Limited Coupons</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>
        #preview{
            border-radius: 2rem;
        }
        .submit-btn{
            border-color: transparent;
            {#box-shadow: 0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08);#}
            box-shadow: 0 10px 12px rgba(100,100,143,.20), 0 4px 6px rgba(0,0,0,.16);
            border-radius: .50rem;
            transition: all .15s ease;
            text-align: center;
            vertical-align: center;
            width: 105px;
            height: 35px;
            font-family: "Open Sans",sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            line-height: 1.5;
            color: #fff;
            background-color: #172b4d;

       }
       .btn:hover{
        background-color: #101e35;
            border-color: #101e35;
            color:#fff;
        }
       .submit-btn2{
            color: #fff;
            background-color: #11cdef;
            border-color: transparent;
            {#box-shadow: 0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08);#}
            box-shadow: 0 10px 12px rgba(100,100,143,.20), 0 4px 6px rgba(0,0,0,.16);
            border-radius: .50rem;
            transition: all .15s ease;
            text-align: center;
            vertical-align: center;
            width: 105px;
            height: 35px;
       }
       #message_div{
           {#margin: 2.5%;#}
           {#margin-top: 1%;#}
            {#text-align: center;#}
           box-shadow: 0 10px 12px rgba(100,100,143,.20), 0 4px 6px rgba(0,0,0,.16);
            border-radius: .50rem;
           vertical-align: center;
           {#float: right;#}
           {#width: 100%;#}
           height:50px;
           color: white;
           font-weight: 600;
           font-size: larger;
           font-family: "Open Sans",sans-serif;
       }
       .alert-danger{
           {#color: #f5365c;#}
            background-color: #f75676;
            border-color: #f75676
       }
       .alert-success{
            background-color: #15c39a;
            border-color: #15c39a;
       }
       .alert{
           padding: 0px;
       }
       input[type=file]{
            color:transparent;
            background-color: transparent;
        }
    </style>
{% endblock %}


{% block content %}
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="container" style="margin-top: 2.5% ; width: 35%;">
            <div class="row" >
                <div class="col-12">
                    <div class="message-wrapper text-wrap"  >
                        {% if messages %}

                            {% for message in messages %}
                                {% if message.tags == 'error' %}
                                    <div class="alert alert-danger" id="message_div">
                                        <span class="message-icon">
                                            <img src="{% static 'business/danger-icon.png' %}" style="width: 50px;margin-left: 5%">
                                        </span>
                                        {{ message|safe }}
                                    </div>
                                {% endif %}
                                {% if message.tags == 'success' %}
                                    <div class="alert alert-success" id="message_div">
                                        <span class="message-icon">
                                            <img src="{% static 'business/tick-icon.png' %}" style="width: 45px;margin-left: 5%">
                                        </span>
                                        {{ message|safe }}
                                    </div>
                                {% endif %}
                            {% endfor %}

                        {% endif %}
                    </div>

                </div>
            </div>
            <center>
                <div class="row" >
                    <div class="col-lg-6" style="height: 230px;margin-top: 2.5%">
                        <img id="img2" src="{% static 'business/img-icon.png' %}" width="150px">
                        <button class="submit-btn2" type="button">
                        <input  type="file" id="banner_img"    name="banner"  accept="image/*"  ></button>
                        <p style="margin-top: 2.5%;">upload a offer banner image</p>
                    </div>

                    <div class="col-lg-6" style="height: 230px;margin-top: 2.5%">
                        <img id="img1" src="{% static 'business/csv-icon.png' %}" width="150px">
                        <button class="submit-btn2" type="button">
                        <input type="file" name="file" id="my_file"  required></button>
                        <p style="margin-top: 5%;">Only upload a csv file</p>
                    </div>
                </div><br>
                <div class="row">
                    <div class="col-lg-12">
                        <center>
                            <button class="btn btn-default submit-btn" type="submit">Upload</button>
                        </center>
                    </div>
                </div>
            </center>
        </div>
        <div class="container" style="margin-top: 5% ;width: 60%;height: 800px;">
                <div class="col-lg-12 modal-content" id="preview" style="background-color: #f9f9f9;">
                    <center>
                    <h3>Preview CSV file</h3>
                    <p>Click on the image to download it:<p></center>
                    <a href="{% static "business/preview.csv" %}" download>
                        <img src="{% static 'business/preview_pic.PNG' %}" style="width: 100%">
                    </a>
                </div>
            </div>
        </div>
    </form>

    <script>
        setTimeout(function() {
        $('#message_div').fadeOut('slow ');
        }, 3000); // <-- time in milliseconds
    </script>
{% endblock %}
{#</body>#}
{#</html>#}
